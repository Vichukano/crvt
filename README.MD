
Тестовое задание: есть формируемые письма из N различных форм на сайтах. Формат у каждого письма отличается, унификации нет. Требуется выделить из всех писем в зависимости от типа основные поля формы:

phone:         номер телефона

email:           контактный email-адрес

fio:                 ФИО

company:   юридическое лицо/компания

 

Задача: Реализовать REST API сервис для парсинга email в структуру json на выходе:

    Принимать по вызову POST-метода файл *.msg формата plain text / html
    Вместе с файлом передавать цифровой тип письма – от этого зависят правила разбора
    Разбирать список полей, отдавать массив json вида key-->value, гдеkey – одно из полей вида phone/email/fio/company,value – найденное значение из письма.

    В случае невалидных входных значений (неизвестный тип письма, неправильный формат файла) выдавать ошибку.
    Поскольку типы писем варьируются – заложить возможность дальнейшего расширения описания правил, т.е. сейчас для каждого типа определять правила парсинга (регулярные выражения или а-ля xpath).

 

Тестовое задание ограничено тремя типами писем:

1 - horizontal table

2 - vertical table

3 - plain text